"use strict";(self["webpackChunkpms"]=self["webpackChunkpms"]||[]).push([[420],{9420:function(s,t,e){e.r(t),e.d(t,{default:function(){return O}});e(560);var l=e(3396),a=e(9242),n=e(3311),u=e(2483),r=e(4870);const i={class:"card shadow my-3"},o={class:"card-header pt-3"},c={class:"row"},v={class:"col"},b={class:"card-body"},d={class:"row"},g={class:"col"},h={class:"btn-group",role:"group"},f=(0,l._)("i",{class:"fa fa-bold"},null,-1),p=[f],_=(0,l._)("i",{class:"fa fa-italic"},null,-1),m=[_],w=(0,l._)("i",{class:"fa fa-strikethrough"},null,-1),y=[w],k=(0,l._)("i",{class:"fa fa-underline"},null,-1),$=[k],C={class:"btn-group",role:"group"},E=(0,l._)("i",{class:"fa fa-image"},null,-1),S=[E],H=(0,l._)("i",{class:"fa fa-link"},null,-1),j=[H],x=(0,l._)("i",{class:"fa fa-save"},null,-1),D={class:"row"},U={class:"col"},V=(0,l._)("hr",null,null,-1),B={class:"row"},A={class:"col"},I={class:"col border border-gray rounded"},K=["srcdoc"],L={methods:{underline(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<u>${s.value.substring(t,e)}</u> `+s.value.substring(e,l),this.$refs.ta.focus()},strikethrough(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<s>${s.value.substring(t,e)}</s> `+s.value.substring(e,l),this.$refs.ta.focus()},italic(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<i>${s.value.substring(t,e)}</i> `+s.value.substring(e,l),this.$refs.ta.focus()},bold(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<b>${s.value.substring(t,e)}</b> `+s.value.substring(e,l),this.$refs.ta.focus()},image(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<img src="${s.value.substring(t,e)}"></img> `+s.value.substring(e,l),this.$refs.ta.focus()},url(){let s=this.$refs.ta,t=s.selectionStart,e=s.selectionEnd,l=s.value.length;s.value=s.value.substring(0,t)+`<a href="${s.value.substring(t,e)}" target="_blank">${s.value.substring(t,e)}</a> `+s.value.substring(e,l),this.$refs.ta.focus()},onEnter(){let s=this.$refs.ta;s.value+="<br>"},submitEvent(){}}};var M=Object.assign(L,{__name:"NewView",setup(s){const t=(0,r.iH)(""),e=(0,r.iH)(""),f=(0,r.iH)(""),_=(0,u.tv)(),w=_.currentRoute.value.params.projectID;async function k(){""!=f.value?(await(0,n.k4)(w,f.value,e.value),_.push(`/project/${w}/announcement`)):t.value="標題不能為空"}return(s,n)=>{const u=(0,l.up)("AlertBlock");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("form",null,[(0,l._)("div",i,[(0,l._)("div",o,[(0,l._)("div",c,[(0,l._)("div",v,[(0,l.wy)((0,l._)("input",{class:"form-control w-100 shadow-none",type:"text",placeholder:"標題","onUpdate:modelValue":n[0]||(n[0]=s=>f.value=s)},null,512),[[a.nr,f.value]])])])]),(0,l._)("div",b,[(0,l._)("div",d,[(0,l._)("div",g,[(0,l._)("div",h,[(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[1]||(n[1]=(...t)=>s.bold&&s.bold(...t))},p),(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[2]||(n[2]=(...t)=>s.italic&&s.italic(...t))},m),(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[3]||(n[3]=(...t)=>s.strikethrough&&s.strikethrough(...t))},y),(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[4]||(n[4]=(...t)=>s.underline&&s.underline(...t))},$)]),(0,l._)("div",C,[(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[5]||(n[5]=(...t)=>s.image&&s.image(...t))},S),(0,l._)("button",{class:"btn btn-primary shadow-none",type:"button",onClick:n[6]||(n[6]=(...t)=>s.url&&s.url(...t))},j)])]),(0,l._)("div",{class:"col",style:{"text-align":"right"}},[(0,l._)("div",{class:"btn-group",role:"group"},[(0,l._)("button",{class:"btn btn-primary shadow-none",onClick:k},[x,(0,l.Uk)("   儲存 ")])])])]),(0,l._)("div",D,[(0,l._)("div",U,[V,(0,l._)("div",B,[(0,l._)("div",A,[(0,l.wy)((0,l._)("textarea",{class:"form-control shadow-none",rows:"19","onUpdate:modelValue":n[7]||(n[7]=s=>e.value=s),placeholder:'編輯器支持HTML 語法\n圖片 <img src="圖片網址"></img>\n連結 <a href="網址"></a>',ref:"ta",onKeypress:n[8]||(n[8]=(0,a.D2)(((...t)=>s.onEnter&&s.onEnter(...t)),["enter"]))},"\r\n                                    ",544),[[a.nr,e.value]])]),(0,l._)("div",I,[(0,l._)("iframe",{srcdoc:e.value,class:"h-100"},null,8,K)])])])])])])]),(0,l.Wm)(u,{message:t.value,onCloseBlock:n[9]||(n[9]=s=>t.value="")},null,8,["message"])])}}});const N=M;var O=N}}]);
//# sourceMappingURL=420.73aa8613.js.map