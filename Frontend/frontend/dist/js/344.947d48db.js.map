{"version":3,"file":"js/344.947d48db.js","mappings":"8jBAwCUA,EAAS,YACTC,EAAW,O,qCALjB,MAAMC,GAASC,EAAAA,EAAAA,MAETC,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAAQD,EAAAA,EAAAA,IAAI,IAGZE,GAAUF,EAAAA,EAAAA,IAAI,IAEdG,EAAU,CACZ,CACIC,KAAM,KACNC,MAAO,YACPC,UAAU,GAEd,CACIF,KAAM,KACNC,MAAO,QACPC,UAAU,GAEd,CACIF,KAAM,KACNC,MAAO,OACPC,UAAU,I,OAIlBC,EAAAA,EAAAA,KAAUC,UAGN,GAFAN,EAAQG,MAAQ,oEAEkB,SAAxBI,EAAAA,EAAAA,MAIN,OAHAP,EAAQG,MAAQ,qBAChBR,EAAOa,QAAQ,mBACfC,QAAQC,IAAI,MAIhB,MAAMC,QAAaC,EAAAA,EAAAA,MACnB,IAAK,MAAMC,KAAKF,EAAM,CAClB,MAAMG,EAAO,CACTC,UAAWF,EAAE,QAAQL,QAAQ,IAAK,KAClCQ,MAAOH,EAAE,SACTI,KAAMJ,EAAE,SAEZd,EAAMI,MAAMe,KAAKJ,EACrB,K,izBC7ER,MAAMK,EAAc,EAEpB,O","sources":["webpack://pms/./src/components/Administration/LoggingView.vue","webpack://pms/./src/components/Administration/LoggingView.vue?8e55"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"card shadow my-3\">\r\n            <div class=\"card-header py-3\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6 text-nowrap\">\r\n                        <p class=\"text-primary m-0 fw-bold\" style=\"font-size: 28px;\">{{ $route.name }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6 text-nowrap\">\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"text-md-end dataTables_filter\">\r\n                            <label class=\"form-label\">\r\n                                <input v-model=\"searchValue\" type=\"search\" class=\"form-control form-control-sm shadow-none\" aria-controls=\"dataTable\" placeholder=\"Search\">\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <EasyDataTable :headers=\"headers\" :items=\"items\" :sort-by=\"sortBy\" :sort-type=\"sortType\" :search-value=\"searchValue\" table-class-name=\"customize-table\" show-index alternating />\r\n            </div>\r\n        </div>\r\n        <AlertBlock :message=\"message\" @closeBlock=\"message=``\" />\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { getPermissionLevel } from \"@/assets/js/helper.js\"\r\n    import { getLog } from \"@/assets/js/helper.js\"\r\n    import { useRouter } from \"vue-router\"\r\n    import { onMounted } from \"vue\"\r\n    import { ref } from \"vue\"\r\n\r\n    const router = useRouter()\r\n\r\n    const searchValue = ref(\"\")\r\n    const items = ref([])\r\n    const sortBy = \"timestamp\"\r\n    const sortType = \"desc\"\r\n    const message = ref(\"\")\r\n\r\n    const headers = [\r\n        {\r\n            text: \"時間\",\r\n            value: \"timestamp\",\r\n            sortable: true,\r\n        },\r\n        {\r\n            text: \"事件\",\r\n            value: \"event\",\r\n            sortable: true,\r\n        },\r\n        {\r\n            text: \"參數\",\r\n            value: \"args\",\r\n            sortable: true,\r\n        },\r\n    ]\r\n\r\n    onMounted(async () => {\r\n        message.value = \"Warning: You are using admin tool, be careful for those function.\"\r\n\r\n        if (await getPermissionLevel() != 3) {\r\n            message.value = \"YOU SHALL NOT PASS\"\r\n            router.replace(\"/dashboard\")\r\n            console.log(\":<\")\r\n            return\r\n        }\r\n\r\n        const data = await getLog()\r\n        for (const i of data) {\r\n            const temp = {\r\n                timestamp: i[\"DATE\"].replace(\"T\", \" \"),\r\n                event: i[\"EVENT\"],\r\n                args: i[\"ARGs\"]\r\n            }\r\n            items.value.push(temp)\r\n        }\r\n    })\r\n</script>","import script from \"./LoggingView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoggingView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["sortBy","sortType","router","useRouter","searchValue","ref","items","message","headers","text","value","sortable","onMounted","async","getPermissionLevel","replace","console","log","data","getLog","i","temp","timestamp","event","args","push","__exports__"],"sourceRoot":""}