"use strict";(self["webpackChunkpms"]=self["webpackChunkpms"]||[]).push([[273],{1273:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});t(560);var l=t(3396),s=t(7139),o=t(3311),n=t(2483),r=t(4870);const i={class:"card shadow my-3"},c={class:"card-header py-3"},d={class:"row"},u={class:"col-md-6 text-nowrap"},m={class:"text-primary m-0 fw-bold",style:{"font-size":"28px"}},v={class:"col-md-6 text-md-end dataTables_filter mt-1"},p={key:0,class:"btn-group",role:"group"},b=(0,l._)("i",{class:"fas fa-plus-circle fa-sm text-white-50"},null,-1),w={class:"card-body"},f=(0,l.uE)('<div class="row"><div class="col-md-6 text-nowrap"></div><div class="col-md-6"><div class="text-md-end dataTables_filter"><label class="form-label"><input type="search" class="form-control form-control-sm shadow-none" aria-controls="dataTable" placeholder="Search"></label></div></div></div>',1),h={class:"btn-group",role:"group"},_=["onClick"],y=(0,l._)("i",{class:"icon ion-android-delete"},null,-1),k=[y];var x={__name:"PanelView",setup(e){const a=(0,n.tv)(),t=a.currentRoute.value.params.projectID,y=(0,r.iH)(localStorage["permissionLevel"]),x=(0,r.iH)([]),g=[{text:"標題",value:"title",sortable:!0},{text:"作者",value:"author",sortable:!0},{text:"最後修改日期",value:"date",sortable:!0}];async function D(e){confirm("確定刪除項目？")&&(x.value.splice(e.index-1,1),await(0,o._5)(t,e.announcementUUID))}return y.value>1&&g.push({text:"選項",value:"operation",sortable:!0}),(0,l.bv)((async()=>{const e=await(0,o.NY)(t);if(Array.isArray(e))for(const a of e)x.value.push(a)})),(e,a)=>{const t=(0,l.up)("router-link"),o=(0,l.up)("EasyDataTable");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("p",m,(0,s.zw)(e.$route.name),1)]),(0,l._)("div",v,[y.value>1?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(t,{to:`${e.$route.path}/new`,class:"btn btn-primary btn-sm d-none d-sm-inline-block shadow-none",role:"button"},{default:(0,l.w5)((()=>[b,(0,l.Uk)(" 新增 ")])),_:1},8,["to"])])):(0,l.kq)("",!0)])])]),(0,l._)("div",w,[f,x.value?((0,l.wg)(),(0,l.j4)(o,{key:0,headers:g,items:x.value,"table-class-name":"customize-table","show-index":"",alternating:""},(0,l.Nv)({"item-title":(0,l.w5)((a=>[(0,l.Wm)(t,{to:`${e.$route.path}/info/${a.announcementUUID}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.title),1)])),_:2},1032,["to"])])),_:2},[y.value>1?{name:"item-operation",fn:(0,l.w5)((e=>[(0,l._)("div",h,[(0,l._)("button",{class:"btn btn-primary shadow-none",style:{background:"#e74a3b",width:"42px"},onClick:a=>D(e)},k,8,_)])])),key:"0"}:void 0]),1032,["items"])):(0,l.kq)("",!0)])])])}}};const g=x;var D=g}}]);
//# sourceMappingURL=273.8c54ac69.js.map