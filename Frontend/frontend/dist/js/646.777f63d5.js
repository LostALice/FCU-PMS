"use strict";(self["webpackChunkpms"]=self["webpackChunkpms"]||[]).push([[646],{3646:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});t(560);var l=t(3396),s=t(7139),o=t(3311),r=t(2483),n=t(4870);const i={class:"card shadow my-3"},c={class:"card-header py-3"},d={class:"row"},u={class:"col-md-6 text-nowrap"},m={class:"text-primary m-0 fw-bold",style:{"font-size":"28px"}},v={class:"col-md-6 text-md-end dataTables_filter mt-1"},p={key:0,class:"btn-group",role:"group"},b=(0,l._)("i",{class:"fas fa-plus-circle fa-sm text-white-50"},null,-1),f={class:"card-body"},w=(0,l.uE)('<div class="row"><div class="col-md-6 text-nowrap"></div><div class="col-md-6"><div class="text-md-end dataTables_filter" id="dataTable_filter"><label class="form-label"><input type="search" class="form-control form-control-sm" aria-controls="dataTable" placeholder="Search"></label></div></div></div>',1),_={class:"table-responsive table mt-2",id:"dataTable-1",role:"grid","aria-describedby":"dataTable_info"},h={class:"btn-group",role:"group"},k=["onClick"],y=(0,l._)("i",{class:"icon ion-android-delete"},null,-1),g=[y];var x={__name:"PanelView",setup(e){const a=(0,r.tv)(),t=a.currentRoute.value.params.projectID,y=(0,n.iH)(localStorage["permissionLevel"]),x=(0,n.iH)(""),T=(0,n.iH)([]),C=[{text:"小組名稱",value:"name",sortable:!0},{text:"教授",value:"teacher",sortable:!0},{text:"學生",value:"student",sortable:!0}];async function D(e){confirm("確定刪除項目？")&&(T.value.splice(e.index-1,1),await(0,o.iE)(e.groupUUID,t),x.value="刪除成功")}return y.value>1&&C.push({text:"選項",value:"operation",sortable:!0}),(0,l.bv)((async()=>{const e=await(0,o.CE)(t);if(Array.isArray(e))for(const a of e)T.value.push(a)})),(e,a)=>{const t=(0,l.up)("router-link"),o=(0,l.up)("EasyDataTable"),r=(0,l.up)("AlertBlock");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("p",m,(0,s.zw)(e.$route.name),1)]),(0,l._)("div",v,[y.value>1?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(t,{to:`${e.$route.path}/new`,class:"btn btn-primary btn-sm d-none d-sm-inline-block shadow-none",role:"button"},{default:(0,l.w5)((()=>[b,(0,l.Uk)(" 新增 ")])),_:1},8,["to"])])):(0,l.kq)("",!0)])])]),(0,l._)("div",f,[w,(0,l._)("div",_,[T.value?((0,l.wg)(),(0,l.j4)(o,{key:0,headers:C,items:T.value,"table-class-name":"customize-table","show-index":"",alternating:""},(0,l.Nv)({"item-name":(0,l.w5)((a=>[(0,l.Wm)(t,{to:`${e.$route.path}/info/${a.groupUUID}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.name),1)])),_:2},1032,["to"])])),_:2},[y.value>1?{name:"item-operation",fn:(0,l.w5)((e=>[(0,l._)("div",h,[(0,l._)("button",{class:"btn btn-primary shadow-none",style:{background:"#e74a3b",width:"42px"},onClick:a=>D(e)},g,8,k)])])),key:"0"}:void 0]),1032,["items"])):(0,l.kq)("",!0)])])]),(0,l.Wm)(r,{message:x.value,onCloseBlock:a[0]||(a[0]=e=>x.value="")},null,8,["message"])])}}};const T=x;var C=T}}]);
//# sourceMappingURL=646.777f63d5.js.map