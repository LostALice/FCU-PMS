{"version":3,"file":"js/420.73aa8613.js","mappings":"y6BAyEIA,EAAe,CACXC,QAAS,CACLC,SAAAA,GACI,IAAIC,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,MAAKJ,EAASS,MAAME,UAAUP,EAAqBE,UACpDN,EAASS,MAAME,UAAUL,EAAmBE,GAChDP,KAAKC,MAAMC,GAAGS,OAClB,EACAC,aAAAA,GACI,IAAIb,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,MAAKJ,EAASS,MAAME,UAAUP,EAAqBE,UACpDN,EAASS,MAAME,UAAUL,EAAmBE,GAEhDP,KAAKC,MAAMC,GAAGS,OAClB,EACAE,MAAAA,GACI,IAAId,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,MAAKJ,EAASS,MAAME,UAAUP,EAAqBE,UACpDN,EAASS,MAAME,UAAUL,EAAmBE,GAChDP,KAAKC,MAAMC,GAAGS,OAClB,EACAG,IAAAA,GACI,IAAIf,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,MAAKJ,EAASS,MAAME,UAAUP,EAAqBE,UACpDN,EAASS,MAAME,UAAUL,EAAmBE,GAChDP,KAAKC,MAAMC,GAAGS,OAClB,EACAI,KAAAA,GACI,IAAIhB,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,aAAYJ,EAASS,MAAME,UAAUP,EAAqBE,cAC3DN,EAASS,MAAME,UAAUL,EAAmBE,GAChDP,KAAKC,MAAMC,GAAGS,OAClB,EACAK,GAAAA,GACI,IAAIjB,EAAWC,KAAKC,MAAMC,GACtBC,EAAsBJ,EAASK,eAC/BC,EAAoBN,EAASO,aAC7BC,EAAaR,EAASS,MAAMC,OAChCV,EAASS,MAAQT,EAASS,MAAME,UAAU,EAAGP,GACxC,YAAWJ,EAASS,MAAME,UAAUP,EAAqBE,uBAAuCN,EAASS,MAAME,UAAUP,EAAqBE,UAC/IN,EAASS,MAAME,UAAUL,EAAmBE,GAChDP,KAAKC,MAAMC,GAAGS,OAClB,EACAM,OAAAA,GACI,IAAIlB,EAAWC,KAAKC,MAAMC,GAC1BH,EAASS,OAAS,MACtB,EACAU,WAAAA,GAEA,I,iDAUR,MAAMC,GAAUC,EAAAA,EAAAA,IAAI,IACdC,GAAUD,EAAAA,EAAAA,IAAI,IACdE,GAAQF,EAAAA,EAAAA,IAAI,IACZG,GAASC,EAAAA,EAAAA,MACTC,EAAcF,EAAOG,aAAalB,MAAMmB,OAAOC,UAErDC,eAAeX,IACQ,IAAfI,EAAMd,aAIJsB,EAAAA,EAAAA,IAAgBL,EAAaH,EAAMd,MAAOa,EAAQb,OACxDe,EAAOQ,KAAM,YAAWN,mBAJpBN,EAAQX,MAAQ,QAKxB,C,89DClKJ,MAAMwB,EAAc,EAEpB,O","sources":["webpack://pms/./src/components/Announcements/NewView.vue","webpack://pms/./src/components/Announcements/NewView.vue?e2e8"],"sourcesContent":["<template>\r\n    <div>\r\n        <form>\r\n            <div class=\"card shadow my-3\">\r\n                <div class=\"card-header pt-3\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <input class=\"form-control w-100 shadow-none\" type=\"text\" placeholder=\"標題\" v-model=\"title\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <div class=\"btn-group\" role=\"group\">\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\" @click=\"bold\">\r\n                                    <i class=\"fa fa-bold\"></i>\r\n                                </button>\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\"  @click=\"italic\">\r\n                                    <i class=\"fa fa-italic\"></i>\r\n                                </button>\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\"  @click=\"strikethrough\">\r\n                                    <i class=\"fa fa-strikethrough\"></i>\r\n                                </button>\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\"  @click=\"underline\">\r\n                                    <i class=\"fa fa-underline\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"btn-group\" role=\"group\">\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\" @click=\"image\">\r\n                                    <i class=\"fa fa-image\"></i>\r\n                                </button>\r\n                                <button class=\"btn btn-primary shadow-none\" type=\"button\" @click=\"url\">\r\n                                    <i class=\"fa fa-link\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col\" style=\"text-align: right;\">\r\n                            <div class=\"btn-group\" role=\"group\">\r\n                                <button class=\"btn btn-primary shadow-none\" @click=\"submitEvent\"><i class=\"fa fa-save\"></i>\r\n                                    &nbsp; 儲存\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <hr>\r\n                            <div class=\"row\">\r\n                                <div class=\"col\">\r\n                                    <textarea\r\n                                        class=\"form-control shadow-none\"\r\n                                        rows=\"19\"\r\n                                        v-model=\"context\"\r\n                                        placeholder=\"編輯器支持HTML 語法&#10;圖片 <img src=&quot;圖片網址&quot;></img>&#10;連結 <a href=&quot;網址&quot;></a>\"\r\n                                        ref=\"ta\"\r\n                                        @keypress.enter=\"onEnter\">\r\n                                    </textarea>\r\n                                </div>\r\n                                <div class=\"col border border-gray rounded\">\r\n                                    <iframe :srcdoc=\"context\" class=\"h-100\"></iframe>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <AlertBlock :message=\"message\" @closeBlock=\"message=``\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        methods: {\r\n            underline() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<u>${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}</u> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n                this.$refs.ta.focus()\r\n            },\r\n            strikethrough() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<s>${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}</s> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n\r\n                this.$refs.ta.focus()\r\n            },\r\n            italic() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<i>${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}</i> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n                this.$refs.ta.focus()\r\n            },\r\n            bold() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<b>${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}</b> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n                this.$refs.ta.focus()\r\n            },\r\n            image() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<img src=\"${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}\"></img> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n                this.$refs.ta.focus()\r\n            },\r\n            url() {\r\n                let textarea = this.$refs.ta\r\n                let cursorPositionStart = textarea.selectionStart\r\n                let cursorPositionEnd = textarea.selectionEnd\r\n                let textLength = textarea.value.length\r\n                textarea.value = textarea.value.substring(0, cursorPositionStart) +\r\n                    `<a href=\"${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}\" target=\"_blank\">${textarea.value.substring(cursorPositionStart, cursorPositionEnd)}</a> ` +\r\n                    textarea.value.substring(cursorPositionEnd, textLength);\r\n                this.$refs.ta.focus()\r\n            },\r\n            onEnter() {\r\n                let textarea = this.$refs.ta\r\n                textarea.value += \"<br>\"\r\n            },\r\n            submitEvent() {\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<script setup>\r\n    import { newAnnouncement } from \"@/assets/js/helper.js\"\r\n    import { useRouter } from \"vue-router\"\r\n    import { ref } from \"vue\"\r\n\r\n    const message = ref(\"\")\r\n    const context = ref(\"\")\r\n    const title = ref(\"\")\r\n    const router = useRouter()\r\n    const projectUUID = router.currentRoute.value.params.projectID\r\n\r\n    async function submitEvent() {\r\n        if (title.value == \"\") {\r\n            message.value = \"標題不能為空\"\r\n            return\r\n        }\r\n        await newAnnouncement(projectUUID, title.value, context.value)\r\n        router.push(`/project/${projectUUID}/announcement`)\r\n    }\r\n</script>","import script from \"./NewView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__default__","methods","underline","textarea","this","$refs","ta","cursorPositionStart","selectionStart","cursorPositionEnd","selectionEnd","textLength","value","length","substring","focus","strikethrough","italic","bold","image","url","onEnter","submitEvent","message","ref","context","title","router","useRouter","projectUUID","currentRoute","params","projectID","async","newAnnouncement","push","__exports__"],"sourceRoot":""}