"use strict";(self["webpackChunkpms"]=self["webpackChunkpms"]||[]).push([[921],{8921:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});a(560);var l=a(3396),o=a(7139),s=a(9242),n=a(3311),r=a(2483),c=a(4870);const u={class:"card shadow my-3"},i={class:"card-header py-3"},d={class:"row"},m={class:"col-md-6 text-nowrap"},p={class:"text-primary m-0 fw-bold",style:{"font-size":"28px"}},v={class:"col-md-6 text-md-end dataTables_filter mt-1"},w={key:0,class:"btn-group",role:"group"},b=(0,l._)("i",{class:"fas fa-plus-circle fa-sm text-white-50"},null,-1),_={class:"card-body"},f={class:"row"},h=(0,l._)("div",{class:"col-md-6 text-nowrap"},null,-1),k={class:"col-md-6"},g={class:"text-md-end dataTables_filter",id:"dataTable_filter"},y={class:"form-label"},x={class:"table-responsive table mt-2",id:"dataTable-1",role:"grid","aria-describedby":"dataTable_info"},j={class:"btn-group",role:"group"},D=["onClick"],$=(0,l._)("i",{class:"icon ion-android-delete"},null,-1),z=[$];var I={__name:"PanelView",setup(e){const t=(0,c.iH)(localStorage["permissionLevel"]),a=(0,c.iH)(""),$=(0,c.iH)(""),I=(0,c.iH)([]),U=(0,r.tv)(),W=U.currentRoute.value.params.subjectID,T=[{text:"項目名稱",value:"name",sortable:!0},{text:"公告",value:"announcements",sortable:!0},{text:"學生",value:"student",sortable:!0},{text:"教授",value:"teacher",sortable:!0},{text:"小組",value:"group",sortable:!0},{text:"作業",value:"assignment",sortable:!0}];async function C(e){1!=I.value.length?confirm("確定刪除項目？")&&(I.value.splice(e.index-1,1),await(0,n.th)(e.projectID)):$.value="至少保留一個項目或刪除整個專案"}return t.value>1&&T.push({text:"選項",value:"operation",sortable:!0}),(0,l.bv)((async()=>{const e=await(0,n.e5)(W);if(Array.isArray(e))for(const t of e)I.value.push(t)})),(e,n)=>{const r=(0,l.up)("router-link"),c=(0,l.up)("EasyDataTable"),U=(0,l.up)("AlertBlock");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",u,[(0,l._)("div",i,[(0,l._)("div",d,[(0,l._)("div",m,[(0,l._)("p",p,(0,o.zw)(e.$route.name),1)]),(0,l._)("div",v,[t.value>1?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)(r,{to:`${e.$route.path}/new`,class:"btn btn-primary btn-sm d-none d-sm-inline-block shadow-none",role:"button"},{default:(0,l.w5)((()=>[b,(0,l.Uk)(" 新增 ")])),_:1},8,["to"])])):(0,l.kq)("",!0)])])]),(0,l._)("div",_,[(0,l._)("div",f,[h,(0,l._)("div",k,[(0,l._)("div",g,[(0,l._)("label",y,[(0,l.wy)((0,l._)("input",{type:"search",class:"form-control form-control-sm shadow-none","aria-controls":"dataTable",placeholder:"Search","onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e)},null,512),[[s.nr,a.value]])])])])]),(0,l._)("div",x,[I.value?((0,l.wg)(),(0,l.j4)(c,{key:0,headers:T,items:I.value,"search-value":a.value,"show-index":"","table-class-name":"customize-table",alternating:""},(0,l.Nv)({"item-name":(0,l.w5)((t=>[(0,l.Wm)(r,{to:`/project/info/${e.$router.currentRoute.value.params.subjectID}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.name),1)])),_:2},1032,["to"])])),"item-announcements":(0,l.w5)((e=>[(0,l.Wm)(r,{to:`/project/${e.projectID}/announcement`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.announcements),1)])),_:2},1032,["to"])])),"item-student":(0,l.w5)((e=>[(0,l.Wm)(r,{to:`/project/${e.projectID}/student`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.student),1)])),_:2},1032,["to"])])),"item-teacher":(0,l.w5)((e=>[(0,l.Wm)(r,{to:`/project/${e.projectID}/teacher`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.teacher),1)])),_:2},1032,["to"])])),"item-group":(0,l.w5)((e=>[(0,l.Wm)(r,{to:`/project/${e.projectID}/group`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.group),1)])),_:2},1032,["to"])])),"item-assignment":(0,l.w5)((e=>[(0,l.Wm)(r,{to:`/project/${e.projectID}/assignment`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.assignment),1)])),_:2},1032,["to"])])),_:2},[t.value>1?{name:"item-operation",fn:(0,l.w5)((e=>[(0,l._)("div",j,[(0,l._)("button",{class:"btn btn-primary shadow-none",style:{background:"#e74a3b"},onClick:t=>C(e)},z,8,D)])])),key:"0"}:void 0]),1032,["items","search-value"])):(0,l.kq)("",!0)])])]),(0,l.Wm)(U,{message:$.value,onCloseBlock:n[1]||(n[1]=e=>$.value="")},null,8,["message"])])}}};const U=I;var W=U}}]);
//# sourceMappingURL=921.1ea6a672.js.map