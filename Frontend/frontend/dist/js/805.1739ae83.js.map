{"version":3,"file":"js/805.1739ae83.js","mappings":"swCA2EI,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAcD,EAAAA,EAAAA,MAAYE,aAAaC,MAAMC,OAAOC,UAEpDC,GAAqBC,EAAAA,EAAAA,IAAI,IACzBC,GAAkBD,EAAAA,EAAAA,IAAI,IACtBE,GAAeF,EAAAA,EAAAA,IAAI,IACnBG,EAAiB,CACnB,CACIC,KAAM,MACNR,MAAO,MACPS,UAAU,GAEd,CACID,KAAM,KACNR,MAAO,OACPS,UAAU,IAIZC,GAAoBN,EAAAA,EAAAA,IAAI,IACxBO,EAAgB,CAClB,CACIH,KAAM,MACNR,MAAO,MACPS,UAAU,GAEd,CACID,KAAM,KACNR,MAAO,OACPS,UAAU,IAYlB,SAASG,IACLC,QAAQC,IAAIT,EAAgBL,OAC5B,IAAK,MAAMe,KAAKV,EAAgBL,OAC5BgB,EAAAA,EAAAA,IAAWD,EAAEE,IAAKnB,GAEtBF,EAAOsB,KAAM,YAAWpB,YAC5B,C,OAdAqB,EAAAA,EAAAA,KAAUC,UACN,MAAMC,QAAoBC,EAAAA,EAAAA,IAAexB,GAEzC,IAAK,MAAMyB,KAAWF,EAClBf,EAAaN,MAAMkB,KAAKK,EAC5B,I,mwCC9GR,MAAMC,EAAc,EAEpB,O","sources":["webpack://pms/./src/components/Student/NewView.vue","webpack://pms/./src/components/Student/NewView.vue?7b16"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"card shadow my-3\">\r\n            <div class=\"card-header py-3\">\r\n                <p class=\"text-primary m-0 fw-bold\" style=\"font-size: 28px;\">{{ $route.name }}</p>\r\n            </div>\r\n            <div class=\"card-body mh-100\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <div class=\"row-xxl-5 text-center align-middle\">\r\n                            <p class=\"lead\" style=\"font-size: 24px;\">可選擇學生</p>\r\n                        </div>\r\n                        <div class=\"col text-center align-middle\">\r\n                            <input type=\"text\" class=\"form-control shadow-none\" v-model=\"studentSearchValue\">\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"col\">\r\n                            <EasyDataTable\r\n                                :headers=\"studentHeaders\"\r\n                                :items=\"studentItems\"\r\n                                v-model:items-selected=\"studentSelected\"\r\n                                show-index\r\n                                :search-value=\"studentSearchValue\"\r\n                                alternating>\r\n                            </EasyDataTable>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-xxl-2\">\r\n                        <div class=\"row-xxl-5 text-center align-middle\">\r\n                            <p class=\"lead\" style=\"font-size: 25px;\">⠀</p>\r\n                        </div>\r\n                        <div class=\"row-xxl-5 text-center align-middle\">\r\n                            <p class=\"lead\">搜尋</p>\r\n                        </div>\r\n                        <div class=\"row-xxl-2 text-center border-start-warning item\">\r\n                            <button class=\"btn btn-primary shadow-none w-100 my-3\" type=\"button\" @click=\"saveStudentList\">\r\n                                <i class=\"fa fa-save\"></i>\r\n                                &nbsp;儲存\r\n                            </button>\r\n                            <router-link class=\"btn btn-primary shadow-none w-100\" role=\"button\" to=\"import\">\r\n                                <i class=\"fa fa-download\"></i>\r\n                                &nbsp;從Excel 匯入\r\n                            </router-link>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <div class=\"row-xxl-5 text-center align-middle\">\r\n                            <p class=\"lead\" style=\"font-size: 24px;\">已選學生</p>\r\n                        </div>\r\n                        <div class=\"col text-center align-middle\">\r\n                            <input type=\"text\" class=\"form-control shadow-none\" v-model=\"selectSearchValue\">\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"col\">\r\n                            <EasyDataTable\r\n                                :headers=\"SelectHeaders\"\r\n                                :items=\"studentSelected\"\r\n                                show-index\r\n                                :search-value=\"selectSearchValue\" alternating>\r\n                            </EasyDataTable>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { getStudentList} from \"@/assets/js/helper.js\"\r\n    import { newStudent } from \"@/assets/js/helper.js\"\r\n    import { useRouter } from \"vue-router\"\r\n    import { onMounted } from \"vue\"\r\n    import { ref } from \"vue\"\r\n\r\n    const router = useRouter()\r\n    const projectUUID = useRouter().currentRoute.value.params.projectID\r\n\r\n    const studentSearchValue = ref(\"\")\r\n    const studentSelected = ref([]);\r\n    const studentItems = ref([])\r\n    const studentHeaders = [\r\n        {\r\n            text: \"NID\",\r\n            value: \"nid\",\r\n            sortable: true,\r\n        },\r\n        {\r\n            text: \"姓名\",\r\n            value: \"name\",\r\n            sortable: true,\r\n        },\r\n    ];\r\n\r\n    const selectSearchValue = ref(\"\")\r\n    const SelectHeaders = [\r\n        {\r\n            text: \"NID\",\r\n            value: \"nid\",\r\n            sortable: true,\r\n        },\r\n        {\r\n            text: \"姓名\",\r\n            value: \"name\",\r\n            sortable: true,\r\n        },\r\n    ];\r\n\r\n    onMounted(async () => {\r\n        const studentList = await getStudentList(projectUUID);\r\n\r\n        for (const student of studentList) {\r\n            studentItems.value.push(student)\r\n        }\r\n    })\r\n\r\n    function saveStudentList(){\r\n        console.log(studentSelected.value)\r\n        for (const i of studentSelected.value) {\r\n            newStudent(i.nid, projectUUID)\r\n        }\r\n        router.push(`/project/${projectUUID}/student`)\r\n    }\r\n</script>","import script from \"./NewView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","projectUUID","currentRoute","value","params","projectID","studentSearchValue","ref","studentSelected","studentItems","studentHeaders","text","sortable","selectSearchValue","SelectHeaders","saveStudentList","console","log","i","newStudent","nid","push","onMounted","async","studentList","getStudentList","student","__exports__"],"sourceRoot":""}